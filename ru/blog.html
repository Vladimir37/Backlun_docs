<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Blog Backlun</title>
    <link rel="stylesheet" href="/src/bootstrap.min.css">
    <link rel="stylesheet" href="/src/index.css">
</head>
<body>
    <main class="jumbotron">
        <a href="/">
            <img src="/src/logo.png" alt="logo" class="logo">
        </a>
        <h1 class="main-title">Блог Backlun</h1>
        <p class="main-text">Главная страница - <span class="main-addr">Backlun/front/blog/index.html</span>.</p>
        <p class="main-text">Каталог для статичных файлов - <span class="main-addr">Backlun/front/blog/static/</span>.</p>
        <p class="main-text">Вы можете получить статичные файлы из каталога по адресу <span class="main-addr">/src</span>.</p>
        <p class="main-text">Пример: <span class="main-addr">Backlun/front/blog/static/js/build/main.js</span> -> <span class="main-addr">/src/js/build/main.js</span></p>
        <p class="main-text">Тесты: <span class="main-addr">Backlun/back/blog/_test_/request.test.js</span> </p>

        <p class="main-text">Команда для запуска тестов: <span class="main-addr">npm install && npm run test</span> </p>
        <h2 class="main-title">API блога</h2>
        <p class="main-text">Параметры, отмеченные астериском (*) обязательны. Содержимое поля "Ответ" расположено в поле "body" ответа сервера. При запросах, измеяющих существующие объекты, необходимо отправлять данные всех полей объектов - неотправленные поля будут очищены. Отправляйте поле "tags" как строку, содержающую теги, разделённые пробелами.</p>
        <p class="main-text">Пример: <span class="main-addr">one two three</span> будет преобразовано в <span class="main-addr">["one", "two", "three"]</span>.</p>
        <table class="table table-striped table-hover">
            <tr>
                <th>Метод</th>
                <th>Адрес</th>
                <th>Параметры запроса</th>
                <th>Ответ</th>
                <th>Описание</th>
            </tr>
            <tr>
                <td>GET</td>
                <td>/api/auth/get</td>
                <td>-</td>
                <td>
                    Login <span class="param-type">string</span><br>
                    Password <span class="param-type">string</span>
                </td>
                <td>Получить актуальный логин и пароль</td>
            </tr>
            <tr>
                <td>GET</td>
                <td>/api/auth/check</td>
                <td>
                    token* <span class="param-type">string</span>
                </td>
                <td>-</td>
                <td>Проверить токен. Смотрите поле "status" в ответе сервера</td>
            </tr>
            <tr>
                <td>POST</td>
                <td>/api/auth/login</td>
                <td>
                    login* <span class="param-type">string</span><br>
                    password* <span class="param-type">string</span>
                </td>
                <td>
                    token <span class="param-type">string</span>
                </td>
                <td>Получить токен</td>
            </tr>
            <tr>
                <td>POST</td>
                <td>/api/auth/logout</td>
                <td>
                    token* <span class="param-type">string</span>
                </td>
                <td>-</td>
                <td>Сделать токен недействительным</td>
            </tr>
            <tr>
                <td>GET</td>
                <td>/api/get/all</td>
                <td>-</td>
                <td>
                    Массив <span class="response-obj">Объектов постов</span>
                </td>
                <td>Получить все посты</td>
            </tr>
            <tr>
                <td>GET</td>
                <td>/api/get/one</td>
                <td>
                    id* <span class="param-type">int</span>
                </td>
                <td>
                    <span class="response-obj">Объект поста</span>
                </td>
                <td>Получить один пост</td>
            </tr>
            <tr>
                <td>GET</td>
                <td>/api/get/search_tag</td>
                <td>
                    tag* <span class="param-type">string</span>
                </td>
                <td>
                    Массив <span class="response-obj">Объектов постов</span>
                </td>
                <td>Получить все посты с указанным тегом</td>
            </tr>
            <tr>
                <td>GET</td>
                <td>/api/get/search_text</td>
                <td>
                    text* <span class="param-type">string</span>
                </td>
                <td>
                    Массив <span class="response-obj">Объектов постов</span>
                </td>
                <td>Получить все посты, содержащие указанный текст в заголовке или основном содержании</td>
            </tr>
            <tr>
                <td>POST</td>
                <td>/api/posts/create</td>
                <td>
                    token* <span class="param-type">string</span><br>
                    title* <span class="param-type">string</span><br>
                    tags <span class="param-type">string</span><br>
                    text* <span class="param-type">string</span>
                </td>
                <td>
                    <span class="response-obj">Объект поста</span>
                </td>
                <td>Создать новый пост</td>
            </tr>
            <tr>
                <td>POST</td>
                <td>/api/posts/edit</td>
                <td>
                    id* <span class="param-type">int</span><br>
                    token* <span class="param-type">string</span><br>
                    title* <span class="param-type">string</span><br>
                    tags <span class="param-type">string</span><br>
                    text* <span class="param-type">string</span>
                </td>
                <td>
                    <span class="response-obj">Объект поста</span>
                </td>
                <td>Изменить пост</td>
            </tr>
            <tr>
                <td>POST</td>
                <td>/api/posts/delete</td>
                <td>
                    id* <span class="param-type">int</span>
                </td>
                <td>-</td>
                <td>Удалить пост</td>
            </tr>
            <tr>
                <td>POST</td>
                <td>/api/comments/create</td>
                <td>
                    post* <span class="param-type">int</span><br>
                    name <span class="param-type">string</span><br>
                    text* <span class="param-type">string</span>
                </td>
                <td>
                    <span class="response-obj">Объект комментария</span>
                </td>
                <td>Создать новый комментарий к существующему посту</td>
            </tr>
            <tr>
                <td>POST</td>
                <td>/api/comments/delete</td>
                <td>
                    post* <span class="param-type">int</span><br>
                    comment* <span class="param-type">int</span><br>
                    token* <span class="param-type">string</span>
                </td>
                <td>-</td>
                <td>Удалить комментарий</td>
            </tr>
        </table>

        <h2 class="main-title">Стандартные объекты</h2>
        <p>Ответ сервера:</p>
        <article class="obj-panel">
            status <span class="param-type">int</span><br>
            message <span class="param-type">string</span><br>
            body <span class="param-type">any</span><br>
        </article>
        <p class="main-text">Код статуса: 0 - успешно, 1-9 - различные ошибки, 10 - не найдено.</p>
        <p>Объект поста:</p>
        <article class="obj-panel">
            ID <span class="param-type">int</span><br>
            Title <span class="param-type">string</span><br>
            Text <span class="param-type">string</span><br>
            Date <span class="param-type">date</span><br>
            Tags <span class="param-type">Массив string</span><br>
            Comments <span class="param-type">Массив Объектов комментария</span><br>
            CurrentCommentID <span class="param-type">int</span><br>
        </article>
        <p>Объект комментария:</p>
        <article class="obj-panel">
            ID <span class="param-type">int</span><br>
            Name <span class="param-type">string</span><br>
            Date <span class="param-type">date</span><br>
            Text <span class="param-type">string</span><br>
        </article>
    </main>
</body>
</html>
